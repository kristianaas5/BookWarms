:root {
  /* Library vibe palette */
  --lib-primary: #7b5cd6;
  --lib-primary-600: #6949cf;
  --lib-secondary: #cdbbf8;
  --lib-bg: #f7f4ff;
  --lib-surface: #ffffff;
  --lib-border: #e6dcff;
  --lib-text: #2e244f;
  --lib-muted: #7a6aa7;

  /* Bootstrap theme vars */
  --bs-primary: var(--lib-primary);
  --bs-secondary: var(--lib-secondary);
  --bs-body-bg: var(--lib-bg);
  --bs-body-color: var(--lib-text);
}

/* Typography */
html, body {
  font-family: "Merriweather", Georgia, "Times New Roman", serif;
  background-color: var(--lib-bg);
  color: var(--lib-text);
}

/* Bigger headings for a stronger library vibe */
h1 { font-family: "Cinzel", "Times New Roman", serif; font-weight: 700; font-size: 2.2rem; letter-spacing: .02em; }
h2 { font-family: "Cinzel", "Times New Roman", serif; font-weight: 600; font-size: 1.9rem; letter-spacing: .02em; }
h3 { font-family: "Cinzel", "Times New Roman", serif; font-weight: 600; font-size: 1.6rem; letter-spacing: .02em; }
h4, h5, h6, .display-1, .display-2, .display-3 {
  font-family: "Cinzel", "Times New Roman", serif;
  letter-spacing: .02em;
  color: var(--lib-text);
}

/* Increase spacing between rows/columns globally */
.row { --bs-gutter-x: 1.25rem; --bs-gutter-y: 1.25rem; }

/* Links and nav (no underline for book titles) */
a, .nav-link, .page-link { color: var(--lib-primary); }
a:hover, .nav-link:hover, .page-link:hover { color: var(--lib-primary-600); }
.book-title-link { text-decoration: none !important; }
.book-title-link:hover { text-decoration: none !important; color: var(--lib-primary-600); }

/* Buttons */
.btn-primary {
  --bs-btn-bg: var(--lib-primary);
  --bs-btn-border-color: var(--lib-primary);
  --bs-btn-hover-bg: var(--lib-primary-600);
  --bs-btn-hover-border-color: var(--lib-primary-600);
  --bs-btn-active-bg: var(--lib-primary-600);
  --bs-btn-active-border-color: var(--lib-primary-600);
  color: #fff;
}
.btn-outline-primary {
  --bs-btn-color: var(--lib-primary);
  --bs-btn-border-color: var(--lib-primary);
  --bs-btn-hover-bg: var(--lib-primary);
  --bs-btn-hover-border-color: var(--lib-primary);
  --bs-btn-hover-color: #fff;
}

/* Icon-only button helper */
.btn-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: .35rem .5rem;
}
.btn-icon .bi { font-size: 1rem; line-height: 1; }
.btn-icon .visually-hidden { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); border: 0; }

/* Cards */
.card {
  background-color: var(--lib-surface);
  border: 1px solid var(--lib-border);
  border-radius: .5rem;
}
.card .text-muted { color: var(--lib-muted) !important; }

/* Badges */
.badge.bg-secondary { background-color: var(--lib-secondary) !important; color: #2a2250; }

/* Progress bars (genres diagram) */
.progress { background-color: #efe9ff; border-radius: 999px; }
.progress-bar { background-color: var(--lib-primary); }

/* Tables (roomier rows) */
.table thead th { border-bottom-color: var(--lib-border); }
.table, .table td, .table th { border-color: var(--lib-border) !important; }
.table td, .table th { padding: .85rem 1rem; }

/* Pagination */
.page-link { border-color: var(--lib-border); }
.page-item.active .page-link { background-color: var(--lib-primary); border-color: var(--lib-primary); }

/* Forms */
.form-control, .form-select { border-color: var(--lib-border); }
.form-control:focus, .form-select:focus {
  border-color: var(--lib-primary);
  box-shadow: 0 0 0 .2rem rgba(123, 92, 214, .15);
}

/* Subtle page sections */
h5, h6 { color: var(--lib-text); }

/* Soft shadows */
.shadow-sm { box-shadow: 0 .125rem .25rem rgba(46, 36, 79, .08) !important; }

/* Accessibility/utility fixes */
h1:focus { outline: none; }

/* Remove conflicting default template colors (kept here overridden by our theme) */
a, .btn-link { color: var(--lib-primary); }
.btn:focus, .btn:active:focus, .btn-link.nav-link:focus, .form-control:focus, .form-check-input:focus {
  box-shadow: 0 0 0 0.1rem white, 0 0 0 0.25rem rgba(123, 92, 214, .45);
}

/* --- Loading / Startup screen enhancements --- */
.startup-screen {
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:
    radial-gradient(circle at 30% 20%, rgba(123,92,214,.20), transparent 60%),
    linear-gradient(135deg, #f7f4ff 0%, #ffffff 65%);
  z-index:10000;
  transition:opacity .5s ease;
  font-family:"Merriweather", Georgia, serif;
}
.startup-screen.fade-out { opacity:0; pointer-events:none; }
.startup-box {
  width:min(420px, 90%);
  background:#fff;
  border:1px solid var(--lib-border);
  border-radius:1.1rem;
  padding:2.25rem 2rem 2rem;
  text-align:center;
  position:relative;
}
.logo-circle {
  width:4rem;
  height:4rem;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  margin:0 auto 1rem;
  font-size:1.9rem;
  color:#fff;
  background:linear-gradient(135deg, var(--lib-primary), var(--lib-primary-600));
  box-shadow:0 6px 18px -4px rgba(123,92,214,.45);
}
.startup-title {
  font-family:"Cinzel","Times New Roman",serif;
  font-size:2rem;
  letter-spacing:.03em;
  margin:0 0 .5rem;
  color:var(--lib-text);
}
.startup-sub {
  margin:0 0 1.25rem;
  color:var(--lib-muted);
  font-size:1rem;
}
.progress.slim {
  height:.6rem;
  background:#efe9ff;
  border-radius:999px;
  overflow:hidden;
  box-shadow:inset 0 0 0 1px rgba(123,92,214,.15);
}
.progress.slim .progress-bar {
  background:linear-gradient(90deg,var(--lib-primary),#5b8def);
  transition:width .25s cubic-bezier(.4,.0,.2,1);
}
@media (prefers-color-scheme: dark) {
  .startup-screen {
    background:linear-gradient(135deg,#1e1a2b 0%, #2b2640 65%);
  }
  .startup-box {
    background:#2f2944;
    color:#e9e6f5;
    border-color:#453a68;
  }
  .startup-sub { color:#b3aacd; }
  .progress.slim { background:#3e3559; }
}